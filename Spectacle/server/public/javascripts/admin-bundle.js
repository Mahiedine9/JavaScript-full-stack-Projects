/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./scripts/admin.client.js":
/*!*********************************!*\
  !*** ./scripts/admin.client.js ***!
  \*********************************/
/***/ (() => {

eval("const socket = io();\nconst getShows = async () => {\n  const list = document.getElementById('spectacles');\n  list.textContent = '';\n  const requestOptions = {\n    method: 'GET'\n  };\n  const response = await fetch('/shows/', requestOptions);\n  const shows = await response.json();\n  shows.forEach(show => list.appendChild(buildShow(show)));\n};\nconst buildShow = show => {\n  const elem = document.createElement('tr');\n  elem.className = 'show';\n  elem.appendChild(buildTD(show.description, 'description'));\n  elem.appendChild(buildTD(show.places, 'seats'));\n  const deleteButton = document.createElement('button');\n  deleteButton.textContent = 'Supprimer';\n  deleteButton.className = 'delete-button';\n  deleteButton.addEventListener('click', () => deleteShow(show._id));\n  elem.appendChild(deleteButton);\n  return elem;\n};\nconst buildTD = (content, className) => {\n  const TDelement = document.createElement('td');\n  TDelement.textContent = content;\n  TDelement.className = className;\n  return TDelement;\n};\nconst createShow = async () => {\n  const description = document.getElementById('description').value;\n  const places = document.getElementById('seats').value;\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      description,\n      places\n    })\n  };\n  const response = await fetch('/shows/', requestOptions);\n  if (response.ok) {\n    const result = await response.json();\n    getShows();\n  } else {\n    const errorData = await response.json();\n    displayMessage(`Erreur : ${errorData.message}`);\n  }\n};\nconst logout = async () => {\n  const requestOptions = {\n    method: 'GET'\n  };\n  const response = await fetch(`/access/logout`, requestOptions);\n  if (response.ok) {\n    window.location.href = '/';\n  }\n};\nconst createButton = document.getElementById('submit-spectacle');\ncreateButton.addEventListener('click', createShow);\nconst logoutButton = document.getElementById('logout');\nlogoutButton.addEventListener('click', logout);\ngetShows();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zY3JpcHRzL2FkbWluLmNsaWVudC5qcyIsIm5hbWVzIjpbInNvY2tldCIsImlvIiwiZ2V0U2hvd3MiLCJsaXN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRleHRDb250ZW50IiwicmVxdWVzdE9wdGlvbnMiLCJtZXRob2QiLCJyZXNwb25zZSIsImZldGNoIiwic2hvd3MiLCJqc29uIiwiZm9yRWFjaCIsInNob3ciLCJhcHBlbmRDaGlsZCIsImJ1aWxkU2hvdyIsImVsZW0iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiYnVpbGRURCIsImRlc2NyaXB0aW9uIiwicGxhY2VzIiwiZGVsZXRlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRlbGV0ZVNob3ciLCJfaWQiLCJjb250ZW50IiwiVERlbGVtZW50IiwiY3JlYXRlU2hvdyIsInZhbHVlIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJyZXN1bHQiLCJlcnJvckRhdGEiLCJkaXNwbGF5TWVzc2FnZSIsIm1lc3NhZ2UiLCJsb2dvdXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJjcmVhdGVCdXR0b24iLCJsb2dvdXRCdXR0b24iXSwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsid2VicGFjazovL2NsaWVudC1hcHAvLi9zY3JpcHRzL2FkbWluLmNsaWVudC5qcz9hYjM0Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNvY2tldCA9IGlvKCk7XG5cblxuY29uc3QgZ2V0U2hvd3MgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVjdGFjbGVzJyk7XG4gICAgbGlzdC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xuICAgICAgIG1ldGhvZDogJ0dFVCdcbiAgICB9O1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9zaG93cy8nLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgY29uc3Qgc2hvd3MgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIFxuICAgIHNob3dzLmZvckVhY2goc2hvdyA9PiBsaXN0LmFwcGVuZENoaWxkKGJ1aWxkU2hvdyhzaG93KSkpO1xufVxuXG5cblxuXG5jb25zdCBidWlsZFNob3cgPSBzaG93ID0+IHtcbiAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICBlbGVtLmNsYXNzTmFtZSA9ICdzaG93JztcbiAgICBlbGVtLmFwcGVuZENoaWxkKGJ1aWxkVEQoc2hvdy5kZXNjcmlwdGlvbiwgJ2Rlc2NyaXB0aW9uJykpO1xuICAgIGVsZW0uYXBwZW5kQ2hpbGQoYnVpbGRURChzaG93LnBsYWNlcywgJ3NlYXRzJykpO1xuICBcbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBkZWxldGVCdXR0b24udGV4dENvbnRlbnQgPSAnU3VwcHJpbWVyJztcbiAgICBkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gJ2RlbGV0ZS1idXR0b24nO1xuICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGRlbGV0ZVNob3coc2hvdy5faWQpKTsgXG4gICAgZWxlbS5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICBcbiAgXG4gICAgcmV0dXJuIGVsZW07XG59XG4gIFxuICBcbmNvbnN0IGJ1aWxkVEQgPSAoY29udGVudCwgY2xhc3NOYW1lKSA9PiB7XG4gICAgY29uc3QgVERlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICBURGVsZW1lbnQudGV4dENvbnRlbnQgPSBjb250ZW50O1xuICAgIFREZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgcmV0dXJuIFREZWxlbWVudDtcbn1cblxuXG5jb25zdCBjcmVhdGVTaG93ID0gYXN5bmMgKCkgPT4ge1xuXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKS52YWx1ZTtcbiAgICBjb25zdCBwbGFjZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhdHMnKS52YWx1ZTtcbiAgXG4gICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBkZXNjcmlwdGlvbiwgcGxhY2VzIH0pXG4gICAgfTtcbiAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL3Nob3dzLycsIHJlcXVlc3RPcHRpb25zKTtcbiAgXG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGdldFNob3dzKCk7IFxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBkaXNwbGF5TWVzc2FnZShgRXJyZXVyIDogJHtlcnJvckRhdGEubWVzc2FnZX1gKTtcbiAgICB9XG59XG5cbmNvbnN0IGxvZ291dCA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCA6J0dFVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYWNjZXNzL2xvZ291dGAsIHJlcXVlc3RPcHRpb25zKTtcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmPSAnLyc7XG4gICAgfVxufVxuICBcbmNvbnN0IGNyZWF0ZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXQtc3BlY3RhY2xlJyk7XG5jcmVhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjcmVhdGVTaG93KTtcbmNvbnN0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dvdXQnKTtcbmxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGxvZ291dCk7XG5cblxuZ2V0U2hvd3MoKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsTUFBTSxHQUFHQyxFQUFFLENBQUMsQ0FBQztBQUduQixNQUFNQyxRQUFRLEdBQUcsTUFBQUEsQ0FBQSxLQUFZO0VBQ3pCLE1BQU1DLElBQUksR0FBR0MsUUFBUSxDQUFDQyxjQUFjLENBQUMsWUFBWSxDQUFDO0VBQ2xERixJQUFJLENBQUNHLFdBQVcsR0FBRyxFQUFFO0VBQ3JCLE1BQU1DLGNBQWMsR0FBRztJQUNwQkMsTUFBTSxFQUFFO0VBQ1gsQ0FBQztFQUNELE1BQU1DLFFBQVEsR0FBRyxNQUFNQyxLQUFLLENBQUMsU0FBUyxFQUFFSCxjQUFjLENBQUM7RUFDdkQsTUFBTUksS0FBSyxHQUFHLE1BQU1GLFFBQVEsQ0FBQ0csSUFBSSxDQUFDLENBQUM7RUFFbkNELEtBQUssQ0FBQ0UsT0FBTyxDQUFDQyxJQUFJLElBQUlYLElBQUksQ0FBQ1ksV0FBVyxDQUFDQyxTQUFTLENBQUNGLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDNUQsQ0FBQztBQUtELE1BQU1FLFNBQVMsR0FBR0YsSUFBSSxJQUFJO0VBQ3RCLE1BQU1HLElBQUksR0FBR2IsUUFBUSxDQUFDYyxhQUFhLENBQUMsSUFBSSxDQUFDO0VBQ3pDRCxJQUFJLENBQUNFLFNBQVMsR0FBRyxNQUFNO0VBQ3ZCRixJQUFJLENBQUNGLFdBQVcsQ0FBQ0ssT0FBTyxDQUFDTixJQUFJLENBQUNPLFdBQVcsRUFBRSxhQUFhLENBQUMsQ0FBQztFQUMxREosSUFBSSxDQUFDRixXQUFXLENBQUNLLE9BQU8sQ0FB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\n//# sourceURL=webpack-internal:///./scripts/admin.client.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./scripts/admin.client.js"]();
/******/ 	
/******/ })()
;