/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./scripts/admin.client.js":
/*!*********************************!*\
  !*** ./scripts/admin.client.js ***!
  \*********************************/
/***/ (() => {

eval("const getShows = async () => {\n  const list = document.getElementById('spectacles');\n  list.textContent = '';\n  const requestOptions = {\n    method: 'GET'\n  };\n  const response = await fetch('/shows/', requestOptions);\n  const shows = await response.json();\n  shows.forEach(show => list.appendChild(buildShow(show)));\n};\nconst buildShow = show => {\n  const elem = document.createElement('tr');\n  elem.className = 'show';\n  elem.appendChild(buildTD(show.description, 'description'));\n  elem.appendChild(buildTD(show.places, 'seats'));\n  const deleteButton = document.createElement('button');\n  deleteButton.textContent = 'Supprimer';\n  deleteButton.className = 'delete-button';\n  deleteButton.addEventListener('click', () => deleteShow(show._id));\n  elem.appendChild(deleteButton);\n  return elem;\n};\nconst buildTD = (content, className) => {\n  const TDelement = document.createElement('td');\n  TDelement.textContent = content;\n  TDelement.className = className;\n  return TDelement;\n};\nconst createShow = async () => {\n  const description = document.getElementById('description').value;\n  const places = document.getElementById('seats').value;\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      description,\n      places\n    })\n  };\n  const response = await fetch('/shows/', requestOptions);\n  if (response.ok) {\n    const result = await response.json();\n    getShows();\n  } else {\n    const errorData = await response.json();\n    displayMessage(`Erreur : ${errorData.message}`);\n  }\n};\nconst logout = async () => {\n  const requestOptions = {\n    method: 'GET'\n  };\n  const response = await fetch(`/access/logout`, requestOptions);\n  if (response.ok) {\n    window.location.href = '/';\n  }\n};\nconst createButton = document.getElementById('submit-spectacle');\ncreateButton.addEventListener('click', createShow);\nconst logoutButton = document.getElementById('logout');\nlogoutButton.addEventListener('click', logout);\ngetShows();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zY3JpcHRzL2FkbWluLmNsaWVudC5qcyIsIm5hbWVzIjpbImdldFNob3dzIiwibGlzdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0ZXh0Q29udGVudCIsInJlcXVlc3RPcHRpb25zIiwibWV0aG9kIiwicmVzcG9uc2UiLCJmZXRjaCIsInNob3dzIiwianNvbiIsImZvckVhY2giLCJzaG93IiwiYXBwZW5kQ2hpbGQiLCJidWlsZFNob3ciLCJlbGVtIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImJ1aWxkVEQiLCJkZXNjcmlwdGlvbiIsInBsYWNlcyIsImRlbGV0ZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZWxldGVTaG93IiwiX2lkIiwiY29udGVudCIsIlREZWxlbWVudCIsImNyZWF0ZVNob3ciLCJ2YWx1ZSIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwicmVzdWx0IiwiZXJyb3JEYXRhIiwiZGlzcGxheU1lc3NhZ2UiLCJtZXNzYWdlIiwibG9nb3V0Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiY3JlYXRlQnV0dG9uIiwibG9nb3V0QnV0dG9uIl0sInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGllbnQtYXBwLy4vc2NyaXB0cy9hZG1pbi5jbGllbnQuanM/YWIzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuXG5jb25zdCBnZXRTaG93cyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwZWN0YWNsZXMnKTtcbiAgICBsaXN0LnRleHRDb250ZW50ID0gJyc7XG4gICAgY29uc3QgcmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgIH07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL3Nob3dzLycsIHJlcXVlc3RPcHRpb25zKTtcbiAgICBjb25zdCBzaG93cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgXG4gICAgc2hvd3MuZm9yRWFjaChzaG93ID0+IGxpc3QuYXBwZW5kQ2hpbGQoYnVpbGRTaG93KHNob3cpKSk7XG59XG5cblxuXG5cbmNvbnN0IGJ1aWxkU2hvdyA9IHNob3cgPT4ge1xuICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIGVsZW0uY2xhc3NOYW1lID0gJ3Nob3cnO1xuICAgIGVsZW0uYXBwZW5kQ2hpbGQoYnVpbGRURChzaG93LmRlc2NyaXB0aW9uLCAnZGVzY3JpcHRpb24nKSk7XG4gICAgZWxlbS5hcHBlbmRDaGlsZChidWlsZFREKHNob3cucGxhY2VzLCAnc2VhdHMnKSk7XG4gIFxuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGRlbGV0ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTdXBwcmltZXInO1xuICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc05hbWUgPSAnZGVsZXRlLWJ1dHRvbic7XG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZGVsZXRlU2hvdyhzaG93Ll9pZCkpOyBcbiAgICBlbGVtLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG4gIFxuICBcbiAgICByZXR1cm4gZWxlbTtcbn1cbiAgXG4gIFxuY29uc3QgYnVpbGRURCA9IChjb250ZW50LCBjbGFzc05hbWUpID0+IHtcbiAgICBjb25zdCBURGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIFREZWxlbWVudC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgVERlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICByZXR1cm4gVERlbGVtZW50O1xufVxuXG5cbmNvbnN0IGNyZWF0ZVNob3cgPSBhc3luYyAoKSA9PiB7XG5cbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpLnZhbHVlO1xuICAgIGNvbnN0IHBsYWNlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWF0cycpLnZhbHVlO1xuICBcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGRlc2NyaXB0aW9uLCBwbGFjZXMgfSlcbiAgICB9O1xuICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvc2hvd3MvJywgcmVxdWVzdE9wdGlvbnMpO1xuICBcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgZ2V0U2hvd3MoKTsgXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGRpc3BsYXlNZXNzYWdlKGBFcnJldXIgOiAke2Vycm9yRGF0YS5tZXNzYWdlfWApO1xuICAgIH1cbn1cblxuY29uc3QgbG9nb3V0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kIDonR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hY2Nlc3MvbG9nb3V0YCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWY9ICcvJztcbiAgICB9XG59XG4gIFxuY29uc3QgY3JlYXRlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdC1zcGVjdGFjbGUnKTtcbmNyZWF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNyZWF0ZVNob3cpO1xuY29uc3QgbG9nb3V0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ291dCcpO1xubG9nb3V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbG9nb3V0KTtcblxuXG5nZXRTaG93cygpO1xuIl0sIm1hcHBpbmdzIjoiQUFHQSxNQUFNQSxRQUFRLEdBQUcsTUFBQUEsQ0FBQSxLQUFZO0VBQ3pCLE1BQU1DLElBQUksR0FBR0MsUUFBUSxDQUFDQyxjQUFjLENBQUMsWUFBWSxDQUFDO0VBQ2xERixJQUFJLENBQUNHLFdBQVcsR0FBRyxFQUFFO0VBQ3JCLE1BQU1DLGNBQWMsR0FBRztJQUNwQkMsTUFBTSxFQUFFO0VBQ1gsQ0FBQztFQUNELE1BQU1DLFFBQVEsR0FBRyxNQUFNQyxLQUFLLENBQUMsU0FBUyxFQUFFSCxjQUFjLENBQUM7RUFDdkQsTUFBTUksS0FBSyxHQUFHLE1BQU1GLFFBQVEsQ0FBQ0csSUFBSSxDQUFDLENBQUM7RUFFbkNELEtBQUssQ0FBQ0UsT0FBTyxDQUFDQyxJQUFJLElBQUlYLElBQUksQ0FBQ1ksV0FBVyxDQUFDQyxTQUFTLENBQUNGLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDNUQsQ0FBQztBQUtELE1BQU1FLFNBQVMsR0FBR0YsSUFBSSxJQUFJO0VBQ3RCLE1BQU1HLElBQUksR0FBR2IsUUFBUSxDQUFDYyxhQUFhLENBQUMsSUFBSSxDQUFDO0VBQ3pDRCxJQUFJLENBQUNFLFNBQVMsR0FBRyxNQUFNO0VBQ3ZCRixJQUFJLENBQUNGLFdBQVcsQ0FBQ0ssT0FBTyxDQUFDTixJQUFJLENBQUNPLFdBQVcsRUFBRSxhQUFhLENBQUMsQ0FBQztFQUMxREosSUFBSSxDQUFDRixXQUFXLENBQUNLLE9BQU8sQ0FBQ04sSUFBSSxDQUFDUSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7RUFFL0MsTUFBTUMsWUFBWSxHQUFHbkIsUUFBUSxDQUFD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\n//# sourceURL=webpack-internal:///./scripts/admin.client.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./scripts/admin.client.js"]();
/******/ 	
/******/ })()
;